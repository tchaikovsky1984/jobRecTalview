
# auth

query SelectUserAndPassword($username: String!){
  user(where: {username: {_eq: $username}}){
    id
    username
    password_hash
  }
}

query CheckUserAlreadyExists($username: String!, $email: String!){
  user(where: { _or: [ {username: {_eq: $username}}, {email: {_eq: $email }} ]}){
    id
    email
    username
  }
}

mutation CreateUser($username: String!, $email: String!, $name: String!, $password_hash: String!){
  insert_user_one(object: {username: $username, email: $email, name: $name, password_hash: $password_hash}){
    id
  }
}
